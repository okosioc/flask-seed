{% if field_schema.type == 'array' %}
{% set item_schema = field_schema['items'] %}
{# First field should be media, i.e, image or video #}
{% set first_field_name = item_schema.columns[0] %}
{% set first_field = item_schema.properties[first_field_name] %}
{% set title_field_name = match_field(item_schema.columns, 'title|name|\w*name') %}
{% set title_field = item_schema.properties[title_field_name] %}
{% set content_field_name = match_field(item_schema.columns, 'content|text') %}
{% set time_field_name = match_field(item_schema.columns, 'update_time|create_time|\w*time') %}
<ul class="array-items list-group list-group-flush">
    {{ '{%' }} for {{ field_name }}_item in {{ field_path }} {{ '%}' }}
    <li class="array-item list-group-item">
        <div class="row align-items-center">
            {% if first_field.format in ['image', 'avatar'] %}
            <div class="col-auto" name="{{ first_field_name }}" format="{{ first_field.format }}">
                <a href="javascript:;" class="avatar {{ 'avatar-4by3' if first_field.format=='image' }}">
                    <img src="{{ '{{' }} {{ field_name~'_item.'~first_field_name }} or '' {{ '}}' }}" alt="..." class="avatar-img rounded{{ '-circle' if first_field.format=='avatar' }} {{ '{{' }} 'd-none' if not {{ field_name~'_item.'~first_field_name }} {{ '}}' }}">
                    <span fallback={{ title_field_name }} class="avatar-title rounded{{ '-circle' if first_field.format=='avatar' }} bg-primary {{ '{{' }} 'd-none' if {{ field_name~'_item.'~first_field_name }} {{ '}}' }}">{{ '{{' }} {{ field_name~'_item.'~title_field_name }}|first|upper if {{ field_name~'_item.'~title_field_name }} is not none {{ '}}' }}</span>
                </a>
            </div>
            {% else %}
            <div class="col-auto" name="{{ title_field_name }}" format="{{ title_field.format }}">
                <a href="javascript:;" class="avatar">
                    <span class="avatar-title bg-primary-soft rounded text-primary">{{ '{{' }} {{ field_name }}_item.{{ title_field_name }}|first|upper if {{ field_name }}_item.{{ title_field_name }} is not none {{ '}}' }}</span>
                </a>
            </div>
            {% endif %}
            <div class="col ml-n2">
                <p name="{{ title_field_name }}" format="{{ title_field.format }}" class="mb-1">{{ '{{' }} {{ field_name }}_item.{{ title_field_name }} or '' {{ '}}' }}</p>
                {% if content_field_name %}
                <p name="{{ content_field_name }}" format="{{ item_schema.properties[content_field_name].format }}" class="small text-gray-700 mb-1">{{ '{{' }} {{ field_name }}_item.{{ content_field_name }} or '' {{ '}}' }}</p>
                {% endif %}
                <p class="small text-muted mb-0"><i class="fe fe-clock mr-2"></i>{{ '{{' }} {{ field_name }}_item.{{ time_field_name }}|timesince if {{ field_name }}_item.{{ time_field_name }} is not none {{ '}}' }}</p>
            </div>
        </div>
    </li>
    {{ '{%' }} else {{ '%}' }}
    <li class="array-item list-group-item">
        <div class="row align-items-center">
            <div class="col"><div class="alert alert-light mb-0"><i class="fe fe-alert-circle mr-2"></i>没有{{ item_schema.title }}！</div></div>
        </div>
    </li>
    {{ '{%' }} endfor {{ '%}' }}
</ul>
{% else %}
UNSUPPORTED! {{ field_schema.format }} format do not support {{ field_schema.type }}!
{% endif %}
{% if field_schema.type == 'object' %}
{# Try to show value #}
{{ '{%' }} if {{ field_path }}.value is not none {{ '%}' }}
<div class="row text-center mb-4">
    <div class="col">
        <p class="text-muted mb-3">{{ '{{' }} {{ field_path }}.title {{ '}}' }}</p>
        <p class="mb-0">
            <span class="h2 text-primary">{{ '{{' }} {{ field_path }}.value {{ '}}' }}</span>
            {{ '{%' }} for children in {{ field_path }}.children {{ '%}' }}
            <span class="badge badge-soft-secondary ml-1 mt-n1" data-toggle="tooltip" data-placement="right" title="{{ '{{' }} children.title {{ '}}' }}">{{ '{{' }} children.value {{ '}}' }}</span>
            {{ '{%' }} endfor {{ '%}' }}
        </p>
    </div>
</div>
{{ '{%' }} endif {{ '%}' }}
{# Try to show compute #}
{{ '{%' }} if {{ field_path }}.compute is not none {{ '%}' }}
<div class="row text-center mb-4">
{{ '{%' }} for compute_item in {{ field_path }}.compute {{ '%}' }}
    {{ '{%'}} if compute_item.title {{ '%}' }}
    <div class="col">
        <p class="text-muted mb-3">{{ '{{' }} compute_item.title {{ '}}' }}</p>
        <p class="h2 mb-0">
            <span class="text-primary">{{ '{{' }} compute_item.value {{ '}}' }}</span>
        </p>
    </div>
    {{ '{%' }} else {{ '%}' }}
    <div class="w-auto text-muted" style="font-size:1.5rem;">{{ '{{' }} compute_item.value {{ '}}' }}</div>
    {{ '{%' }} endif {{ '%}' }}
{{ '{%' }} endfor {{ '%}' }}
</div>
{{ '{%' }} endif {{ '%}' }}
{# Try to show chart #}
{{ '{%' }} if {{ field_path }}.chart.values {{ '%}' }}
<div class="chart-wrapper">
{{ '{%' }} set chart_type = 'doughnut' {{ '%}' }}
{{ '{%' }} set chart_data =  {
    'x': {{ field_path }}.chart.names,
    'y': {{ field_path }}.chart.values,
    'title': {{ field_path }}.chart.title,
    'unit': {{ field_path }}.chart.unit or '',
    'half': false,
{{ '} %}' }}
{{ '{%' }} include 'includes/chart_' + chart_type + '.html' {{ '%}' }}
</div>
{{ '{%' }} endif {{ '%}' }}
{# Extras #}
{{ '{%' }} if {{ field_path }}.extras {{ '%}' }}
<div class="list-group list-group-flush border-top">
    {{ '{%' }} for extra in {{ field_path }}.extras {{ '%}' }}
    <div class="list-group-item">
        <div class="row align-items-center">
            <div class="{{ '{{' }} 'col-auto' if extra.unit == '%' else 'col' {{ '}}' }}">
                <span>
                    {{ '{%' }} if extra.icon {{ '%}' }}<i class="fe fe-{{ '{{' }} extra.icon {{ '}}' }} mr-2"></i>{{ '{%' }} else {{ '%}' }}<i class="mx-3"></i>{{ '{%' }} endif {{ '%}' }}
                    {{ '{{' }} extra.title {{ '}}' }}{{ '{%' }} if extra.unit {{ '%}' }}({{ '{{' }} extra.unit {{ '}}' }}){{ '{%' }} endif {{ '%}' }}
                    {{ '{%' }} if extra.description {{ '%}' }}
                    <i class="fe fe-help-circle ml-2" data-toggle="tooltip" data-placement="top" title="{{ '{{' }} extra.description {{ '}}' }}"></i>
                    {{ '{%' }} endif {{ '%}' }}
                </span>
            </div>
            {{ '{%' }} if extra.unit == '%' {{ '%}' }}
            <div class="col">
                <div class="progress progress-sm">
                    <div class="progress-bar" role="progressbar" style="width:{{ '{{' }} extra.value or 0 {{ '}}' }}%;" aria-valuenow="{{ '{{' }} extra.value or 0 {{ '}}' }}" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
            </div>
            <div class="col-auto text-muted">{{ '{{' }} extra.value or '-' {{ '}}' }}%</div>
            {{ '{%' }} else {{ '%}' }}
            <div class="col-auto text-muted">{{ '{{' }} extra.value or '-' {{ '}}' }}</div>
            {{ '{%' }} endif {{ '%}' }}
        </div>
      </div>
    {{ '{%' }} endfor {{ '%}' }}
</div>
{{ '{%' }} endif {{ '%}' }}
{% elif field_schema.type == 'array' %}
{% set item_schema = field_schema['items'] %}
<div class="row text-center">
{{ '{%' }} for {{ field_name }}_item in {{ field_path }} {{ '%}' }}
{{ '{%'}} if {{ field_name }}_item.title {{ '%}' }}
    <div class="col">
        <p class="text-muted mb-2">{{ '{{' }} {{ field_name }}_item.title {{ '}}' }}</p>
        <p class="h2 mb-0">
            <span class="text-primary">{{ '{{' }} {{ field_name }}_item.value {{ '}}' }}</span>
        </p>
    </div>
{{ '{%' }} else {{ '%}' }}
    <div class="w-auto text-muted" style="font-size:1.5rem;">{{ '{{' }} {{ field_name }}_item.value {{ '}}' }}</div>
{{ '{%' }} endif {{ '%}' }}
{{ '{%' }} endfor {{ '%}' }}
</div>
{% else %}
UNSUPPORTED! {{ field_schema.format }} format do not support {{ field_schema.type }}!
{% endif %}
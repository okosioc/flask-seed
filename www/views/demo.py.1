""" demo module. """
from datetime import datetime

from bson import ObjectId
from flask import Blueprint, render_template, current_app, redirect, request, abort, jsonify, url_for
from flask_login import current_user

from py3seed import populate_model, populate_search
from .common import get_id
from www.tools import auth_permission, admin_permission
from core.models import DemoProjectDashboard

demo = Blueprint('demo', __name__)


@demo.route('/project-dashboard')
@auth_permission
def project_dashboard():
    """ 项目仪表盘. """
    id_ = get_id(int)
    demo_project_dashboard = DemoProjectDashboard.find_one(id_)
    if not demo_project_dashboard:
        abort(404)
    #
    return render_template('demo/project-dashboard.html', demo_project_dashboard=demo_project_dashboard)


